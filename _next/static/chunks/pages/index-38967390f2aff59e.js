(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2097:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__N_SSG:()=>h,default:()=>x});var s=a(7876),l=a(7328),n=a.n(l),i=a(4232);function o(e){let{types:t=[],generations:a=[],selectedType:l,onSelectType:n,selectedGeneration:i,onSelectGeneration:o}=e;return(0,s.jsxs)("aside",{className:"w-full sm:w-60 m-1 p-2 sm:p-4 flex flex-col gap-2 sm:gap-3",children:[(0,s.jsx)("img",{src:"/img/pokemon_logo.png",alt:"Pokemon Logo",className:"mb-6"}),(0,s.jsxs)("section",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold capitalize mb-2",children:"Types"}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:["All",...t].map(e=>(0,s.jsx)("button",{role:"button",className:"btn btn_category btn_category:hover capitalize w-full ".concat(l===e?"btn_category--active":"text-white"),onClick:()=>n(e),children:e},e))})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold capitalize mb-2",children:"Generations"}),(0,s.jsx)("div",{className:"flex flex-col gap-2",children:["All",...a].map(e=>(0,s.jsx)("button",{role:"button",className:"btn btn_category capitalize text-left w-full ".concat(i===e?"btn_category--active":"text-white"),onClick:()=>o(e),children:e.replace("generation-","Gen ")},e))})]})]})}var r=a(4587),c=a.n(r);function m(e){let{pokemons:t,onSelect:a}=e;return(0,s.jsx)("main",{className:"w-full p-2 sm:p-4 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-2 sm:gap-4",children:t&&t.map(e=>{let t=e.url.split("/").filter(Boolean).pop();return(0,s.jsxs)("button",{className:"bg-gray-800 flex flex-col items-center p-2 rounded-lg hover:bg-gray-700 hover:scale-105 transition cursor-pointer border-2 border-white/10",onClick:()=>a(e.url),children:[(0,s.jsx)(c(),{src:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/".concat(t,".png"),alt:e.name,width:120,height:120,unoptimized:!0}),(0,s.jsx)("p",{className:"text-center text-sm font-medium tracking-wide mb-2 capitalize",children:e.name})]},e.name)})})}var d=a(7764);function p(e){let{selectedPokemon:t,onClose:a}=e,[l,n]=(0,i.useState)([]),[o,r]=(0,i.useState)(!1),[m,p]=(0,i.useTransition)();return((0,i.useEffect)(()=>{t&&p(()=>{e(t)});async function e(e){r(!0);try{let t=await fetch(e.species.url),a=(await t.json()).evolution_chain.url,s=await fetch(a),l=await s.json(),i=[],o=l.chain;for(;o;)i.push(o.species.name),o=o.evolves_to[0];let r=await Promise.all(i.map(async e=>{let t=await fetch("https://pokeapi.co/api/v2/pokemon/".concat(e)),a=await t.json();return{name:e,sprite:a.sprites.front_default}}));n(r)}catch(e){console.error("Erro ao buscar cadeia evolutiva:",e)}finally{r(!1)}}},[t]),t)?(0,s.jsx)("div",{className:"fixed inset-0 z-40 flex items-center justify-end bg-black/50",onClick:a,children:(0,s.jsxs)("aside",{className:"relative bg-[#121417] w-full sm:max-w-md h-full p-3 sm:p-5 overflow-y-auto z-50",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:a,className:"absolute top-4 right-4 z-50 p-2 rounded-full bg-[#121417] hover:bg-yellow-300 transition cursor-pointer","aria-label":"Fechar",children:(0,s.jsx)(d.A,{className:"w-5 h-5 hover:text-[#121417]"})}),o?(0,s.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,s.jsx)("div",{className:"w-10 h-10 border-4 border-yellow-300 border-t-transparent rounded-full animate-spin"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex justify-center mb-4 bg-gray-800 rounded-2xl",children:(0,s.jsx)(c(),{src:t.sprites.front_default,alt:t.name,width:160,height:160,unoptimized:!0,priority:!0,placeholder:"blur",blurDataURL:"/placeholder.png"})}),(0,s.jsx)("h2",{className:"text-xl text-yellow-300 font-bold capitalize mb-2",children:t.name}),(0,s.jsxs)("p",{className:"text-sm mb-2 capitalize",children:[(0,s.jsx)("strong",{children:"Type:"})," ",t.types.map(e=>e.type.name).join(", ")]}),(0,s.jsxs)("p",{className:"text-sm mb-2",children:[(0,s.jsx)("strong",{children:"Height:"})," ",t.height/10," m"]}),(0,s.jsxs)("p",{className:"text-sm mb-2",children:[(0,s.jsx)("strong",{children:"Weight:"})," ",t.weight/10," kg"]}),(0,s.jsxs)("p",{className:"text-sm mb-4 capitalize",children:[(0,s.jsx)("strong",{children:"Abilities:"})," ",t.abilities.map(e=>e.ability.name).join(", ")]}),(0,s.jsx)("h3",{className:"mb-2 font-semibold",children:"Stats"}),(0,s.jsx)("ul",{className:"text-sm",children:t.stats.map(e=>(0,s.jsxs)("li",{className:"mb-3",children:[(0,s.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,s.jsx)("span",{children:e.stat.name.toUpperCase()}),(0,s.jsx)("span",{children:e.base_stat})]}),(0,s.jsx)("div",{className:"w-full h-2 bg-gray-700 rounded",children:(0,s.jsx)("div",{className:"h-2 bg-yellow-300 rounded",style:{width:"".concat(Math.min(e.base_stat,100),"%")}})})]},e.stat.name))}),(0,s.jsx)("p",{className:"text-md mt-6 mb-3 font-semibold",children:"Evolution Chain"}),(0,s.jsx)("div",{className:"flex gap-4 justify-center flex-wrap",children:l.map(e=>(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)(c(),{src:e.sprite,alt:e.name,width:64,height:64,unoptimized:!0,className:"w-32 h-32 sm:w-16 sm:h-16 bg-gray-800 rounded-2xl"}),(0,s.jsx)("p",{className:"text-sm mt-1 capitalize",children:e.name})]},e.name))})]})]})}):null}var h=!0;function x(e){let{initialPokemons:t,typesList:a,generationsList:l}=e,[r,c]=(0,i.useState)(t),[d,h]=(0,i.useState)(null),[x,u]=(0,i.useState)("All"),[f,b]=(0,i.useState)("All"),[g,j]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{try{if("All"===x&&"All"===f)c(t);else if("All"!==x&&"All"===f){let e=await fetch("https://pokeapi.co/api/v2/type/".concat(x)),t=(await e.json()).pokemon.map(e=>e.pokemon);c(t)}else if("All"===x&&"All"!==f){let e=await fetch("https://pokeapi.co/api/v2/generation/".concat(f)),t=(await e.json()).pokemon_species.map(e=>({name:e.name,url:"https://pokeapi.co/api/v2/pokemon/".concat(e.name)}));c(t)}else{let[e,t]=await Promise.all([fetch("https://pokeapi.co/api/v2/type/".concat(x)),fetch("https://pokeapi.co/api/v2/generation/".concat(f))]),[a,s]=await Promise.all([e.json(),t.json()]),l=a.pokemon.map(e=>e.pokemon),n=s.pokemon_species.map(e=>e.name),i=l.filter(e=>n.includes(e.name));c(i)}}catch(e){console.error("Erro ao buscar pokemons:",e)}})()},[x,f]);let w=async e=>{let t=await fetch(e);h(await t.json())};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n(),{children:[(0,s.jsx)("title",{children:"Pokemon Dashboard"}),(0,s.jsx)("meta",{name:"description",content:"Filtre e explore Pokemons por tipo e gera\xe7\xe3o"}),(0,s.jsx)("link",{rel:"icon",type:"image/x-icon",href:"/pokeball.svg"})]}),(0,s.jsx)("button",{className:"md:hidden p-4 rounded-full bg-[#121417] text-yellow-300 fixed z-50 top-2 left-2 cursor-pointer",onClick:()=>j(!g),"aria-label":"Abrir ou fechar menu lateral",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,s.jsxs)("main",{className:"h-screen flex-1 flex flex-col sm:flex-row p-4 sm:p-4 gap-6 sm:gap-6 overflow-auto bg-[#121417]",children:[(0,s.jsx)("h1",{className:"hidden text-sm",children:"Pokemon Dashboard"}),(0,s.jsx)("div",{className:"fixed md:static z-40 top-0 left-0 h-full sidebar p-5 bg-[#121417] transition-transform duration-300 ease-in-out ".concat(g?"translate-x-0":"-translate-x-full"," md:translate-x-0 max-h-screen overflow-y-auto shadow-xl shadow-black/50 rounded-none md:rounded-2xl"),children:(0,s.jsx)(o,{types:a,generations:l,selectedType:x,onSelectType:u,selectedGeneration:f,onSelectGeneration:b})}),(0,s.jsx)("div",{className:"overflow-y-auto sidebar flex-1 shadow-xl shadow-black/50 rounded-2xl",children:(0,s.jsx)(m,{pokemons:r,onSelect:w})}),(0,s.jsx)("aside",{className:"transition-all duration-300 ".concat(d?"translate-x-0":"translate-x-full"," fixed right-0 top-0 h-full w-full sm:w-[300px] overflow-y-auto sidebar z-50 bg-[#121417] shadow-xl shadow-black/50 rounded-2xl"),children:d&&(0,s.jsx)(p,{selectedPokemon:d,onClose:()=>h(null)})})]})]})}},6760:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2097)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[135,636,593,792],()=>t(6760)),_N_E=e.O()}]);